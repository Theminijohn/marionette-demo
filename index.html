<!DOCTYPE html>
<html lang"en">

<head>
  <meta charset="utf-8">
  <title> Marionette Contact Manager </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="css/application.css">
  <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>


<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">BackMarDemo</a>
    </div>

    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#">Home</a></li>
      </ul>
    </div>
  </div>
</nav>

  <div id="main-region" class="container">
    <p>
      Here is static content in the web page. You'll notice that 
      it gets replaced by our app as soon as we start it.
    </p>
  </div>

  <script type="text/template" id="contact-template">
    <p>
      <%= firstName %> <%= lastName %>
    </p>
  </script>



  <script src="js/vendor/jquery.js"></script>
  <script src="js/vendor/json2.min.js"></script>
  <script src="js/vendor/underscore.js"></script>
  <script src="js/vendor/backbone.js"></script>
  <script src="js/vendor/backbone.wreqr.js"></script>
  <script src="js/vendor/backbone.babysitter.js"></script>
  <script src="js/vendor/backbone.marionette.js"></script>


  <script type="text/javascript">
    var ContactManager = new Marionette.Application();

    ContactManager.addRegions({
      mainRegion: '#main-region'
    });

    // Models
    ContactManager.Contact = Backbone.Model.extend({
      defaults: {
        firstName: ''
      }
    });

    // Views
    ContactManager.ContactView = Marionette.ItemView.extend({
      template: '#contact-template',

      events: {
        "click p": "alertPhoneNumber"
      },

      alertPhoneNumber: function(){
        alert(this.model.escape("phoneNumber"));
      }
    });

    ContactManager.on("start", function(){

      // Create instance of an Contact
      var alice = new ContactManager.Contact({
        firstName: 'Alice',
        lastName: 'Arten',
        phoneNumber: '555-0184'
      });

      var aliceView = new ContactManager.ContactView({
        model: alice
      });

      ContactManager.mainRegion.show(aliceView);

    });

    ContactManager.start();

  </script>


</body>
</html>

